{% extends 'base.html' %}
{% load staticfiles %}

{% block content %}
<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Dashboard</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <div class="row">

        <div class="col-lg-6 col-lg-offset-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Problemas por região do país
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <div class="flot-chart">
                        <div class="flot-chart-content" id="flot-bar-chart"></div>
                    </div>
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>


	</div>
</div>
  

{% endblock content %}

{% block javascript %}
    <script type="text/javascript" src="{% static 'vendor/flot/jquery.flot.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendor/flot/jquery.flot.pie.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendor/flot/jquery.flot.resize.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendor/flot/jquery.flot.time.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendor/flot-tooltip/jquery.flot.tooltip.min.js' %}"></script>
    <script type="text/javascript">
$(function() {

    $.ajax({
        type: 'GET',
        dataType: 'json',
        url: '/all-probs',
        success: function(response) {
		    var barOptions = {
		        series: {
		            bars: {
		                show: true,
		                barWidth: 43200000
		            }
		        },
		        xaxis: {
		            mode: "time",
		            timeformat: "%m/%d",
		            minTickSize: [1, "day"]
		        },
		        grid: {
		            hoverable: true
		        },
		        legend: {
		            show: false
		        },
		        tooltip: true,
		        tooltipOpts: {
		            content: "x: %x, y: %y"
		        }
		    };
		    var barData = {
		        label: "bar",
		        data: [
		            ['RG', 1000],
		            ['MG', 2000],
		            ['MGa', 3000],
		            ['MGa', 4000],
		            ['MaG', 5000],
		            ['MGaa', 6000]
		        ]
		    };
		    $.plot($("#flot-bar-chart"), [barData], barOptions);
		}
   });

});
    </script>
{% endblock %}